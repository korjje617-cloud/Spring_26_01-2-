<?xml version="1.0" encoding="UTF-8" ?>
<!-- [1. 파일 선언부] -->
<!-- 이 파일이 XML 형식이며, 한글이 깨지지 않도록 UTF-8 인코딩을 사용한다는 설정-->

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- [2. 규칙 정의]--> 
<!-- 이 파일이 MyBatis 3 버전의 문법을 따른다는 것을 증명하는 표준 규격 선언 -->

<!-- [3. 연결 고리 설정] -->
<!-- namespace: 이 XML이 실제 자바의 어떤 인터페이스와 짝꿍인지 전체 경로를 적어준다 -->
<!-- 여기 적힌 경로의 인터페이스가 호출되면 마이바티스가 이 XML을 읽으러 온다 -->
<mapper namespace="com.example.demo.repository.BoardRepository">

	<!-- [4. 데이터 조회(SELECT) 설정] -->
	
	<!-- id: 자바 인터페이스에 있는 메서드 이름과 "토씨 하나 안 틀리고" 똑같이 적어야 연결 -->
	
	<!-- parameterType: 자바에서 넘겨주는 데이터의 종류입니다. 여기서는 '번호(id)'를 받으므로 int(정수) -->
	
	<!-- resultType: DB에서 찾은 데이터를 어떤 바구니(VO)에 담아서 돌려줄지 결정하는 '배달 주소' -->
	
	<select id="getBoardById" parameterType="int"
		resultType="com.example.demo.vo.Board">
		
		<!-- [5. 실제 실행될 SQL 문장] -->
		
		<!-- SELECT *: board 테이블에 있는 모든 컬럼(id, name, regDate 등)의 값을 다 가져오겠다는 뜻 -->
		SELECT *
		FROM board
		
		<!-- WHERE: 아무 데이터나 다 가져오지 않도록 필터링하는 조건문 -->
		
		<!-- id = #{id}: 사용자가 입력한 번호와 딱 맞는 데이터만 찾는다 (#{id}가 사용자가 보낸 값) -->
		
		<!-- AND delStatus = 0: 그중에서도 '삭제되지 않은(정상 상태)' 게시판만 골라낸다 -->
		WHERE id = #{id} AND delStatus = 0
		
	</select>

</mapper>